# コードレビュー観点まとめ

<!-- toc -->

- [① 機能性（ロジック・設計の妥当性）](#%E2%91%A0-%E6%A9%9F%E8%83%BD%E6%80%A7%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF%E3%83%BB%E8%A8%AD%E8%A8%88%E3%81%AE%E5%A6%A5%E5%BD%93%E6%80%A7)
- [② テスト（品質担保の妥当性）](#%E2%91%A1-%E3%83%86%E3%82%B9%E3%83%88%E5%93%81%E8%B3%AA%E6%8B%85%E4%BF%9D%E3%81%AE%E5%A6%A5%E5%BD%93%E6%80%A7)
- [③ 非機能要件（パフォーマンス・インフラ・アーキテクチャ）](#%E2%91%A2-%E9%9D%9E%E6%A9%9F%E8%83%BD%E8%A6%81%E4%BB%B6%E3%83%91%E3%83%95%E3%82%A9%E3%83%BC%E3%83%9E%E3%83%B3%E3%82%B9%E3%83%BB%E3%82%A4%E3%83%B3%E3%83%95%E3%83%A9%E3%83%BB%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3)
- [④ 保守性・運用性（可読性・運用・チーム開発のしやすさ）](#%E2%91%A3-%E4%BF%9D%E5%AE%88%E6%80%A7%E3%83%BB%E9%81%8B%E7%94%A8%E6%80%A7%E5%8F%AF%E8%AA%AD%E6%80%A7%E3%83%BB%E9%81%8B%E7%94%A8%E3%83%BB%E3%83%81%E3%83%BC%E3%83%A0%E9%96%8B%E7%99%BA%E3%81%AE%E3%81%97%E3%82%84%E3%81%99%E3%81%95)
- [⑤ 運用・リリース面の注意事項](#%E2%91%A4-%E9%81%8B%E7%94%A8%E3%83%BB%E3%83%AA%E3%83%AA%E3%83%BC%E3%82%B9%E9%9D%A2%E3%81%AE%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A0%85)

<!-- tocstop -->

## ① 機能性（ロジック・設計の妥当性）

| 観点                   | 具体例                                                                          |
| ---------------------- | ------------------------------------------------------------------------------- |
| 仕様適合性             | - 仕様は明確に提示されているか<br>- コードが提示された仕様を満たしているか      |
| エラーハンドリング     | - 外部APIのエラーケースを考慮できているか<br>- エラー時に適切な処理が行われるか |
| 境界値・エッジケース   | - データが0件の場合など特殊ケースを考慮しているか                               |
| 冪等性・原子性         | - 途中で処理が中断した場合の再実行可能性が考慮されているか                      |
| クラス設計・責務分割   | - 単一責任原則など設計原則に沿っているか                                        |
| 他機能への影響         | - 他機能に意図しない影響が出ていないか                                          |
| 型安全性               | - 数値と文字列の混在によるバグが無いか（動的型付け言語の場合）                  |
| 日時・タイムゾーン処理 | - タイムゾーン指定漏れによるバグがないか                                        |

## ② テスト（品質担保の妥当性）

| 観点                 | 具体例                                                                     |
| -------------------- | -------------------------------------------------------------------------- |
| テストケースの妥当性 | - コード変更に対応したテストが十分追加されているか                         |
| テスト設計の適切さ   | - プライベートメソッドを直接テストしていないか                             |
| モックの適切性       | - モック範囲が広すぎないか<br>- モック対象は外部依存部分に限定されているか |
| エッジケースのテスト | - エッジケースのテストが網羅的に行われているか                             |

## ③ 非機能要件（パフォーマンス・インフラ・アーキテクチャ）

| 観点                   | 具体例                                                                          |
| ---------------------- | ------------------------------------------------------------------------------- |
| 性能・パフォーマンス   | - メモリ使用量・計算量に問題がないか<br>- SQLのパフォーマンスに改善余地があるか |
| 環境・インフラ面       | - サーバ環境の前提条件が整っているか                                            |
| クラウド・クォータ制限 | - APIのrate limitやクォータ制限を考慮しているか                                 |

## ④ 保守性・運用性（可読性・運用・チーム開発のしやすさ）

| 観点                           | 具体例                                                             |
| ------------------------------ | ------------------------------------------------------------------ |
| 仕様の提示性・レビューしやすさ | - 仕様や変更意図がレビュアーに理解しやすいか                       |
| コードの複雑さ・シンプルさ     | - 必要以上に複雑になっていないか                                   |
| ロギングの適切性               | - ログが調査しやすく、見やすいか                                   |
| コードの可読性                 | - ネストが深すぎないか                                             |
| コーディングスタイル・統一性   | - 既存スタイルとの統一性                                           |
| 命名の適切性                   | - 命名が分かりやすく適切か                                         |
| コメント・ドキュメントの妥当性 | - Why・Why notが記載されているか<br>- ドキュメント更新漏れがないか |
| typoや表記ミスの確認           | - スペルミスがないか                                               |
| 依存モジュールの更新管理       | - サブモジュールが適切に更新されているか                           |
| lint・フォーマット確認         | - lintやフォーマット処理が適用されているか                         |
| コミットメッセージの適切性     | - コミット粒度やメッセージが明確か                                 |
| 成果物・サンプルの提示         | - 出力サンプルが提示されているか                                   |
| リファクタリング影響調査       | - ファイル名変更等の影響を追跡できているか                         |

## ⑤ 運用・リリース面の注意事項

| 観点                     | 具体例                                      |
| ------------------------ | ------------------------------------------- |
| エラー時の運用           | - エラー時の運用手順があるか                |
| リリース管理の妥当性     | - developブランチに未リリースコードがないか |
| CI/CDの確認              | - 新規追加テストがCIで動いているか          |
| バイナリサイズ変更の確認 | - サイズ変更時の影響を確認したか            |
